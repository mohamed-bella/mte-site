<!DOCTYPE html>
<html lang="en" class="scroll-smooth" dir="ltr">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
     <title><%= title %> | Best Morocco Tours & Travel Experiences</title>

     <!-- Vercel Analytics -->
     <script defer src="/_vercel/insights/script.js"></script>

     <!-- Essential Meta Tags -->
     <meta name="description" content="<%= metaDescription %>">
     <meta name="keywords" content="<%= metaKeywords %>, morocco tours, morocco travel, sahara desert tours, marrakech tours, authentic morocco experiences">
     <meta name="author" content="Morocco Travel Experts">
     <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
     <meta name="revisit-after" content="7 days">
     <meta name="rating" content="General">
     <meta name="copyright" content="Morocco Travel Experts">
     <meta name="coverage" content="Worldwide">
     <meta name="target" content="all">
     <meta name="theme-color" content="#2563eb">

     <!-- Open Graph Meta Tags -->
     <meta property="og:title" content="<%= metaTitle %> | Premium Morocco Tours">
     <meta property="og:description" content="<%= metaDescription %>">
     <meta property="og:type" content="website">
     <meta property="og:url" content="<%= process.env.BASE_URL %>">
     <meta property="og:image" content="/images/logo.png">
     <meta property="og:image:width" content="1200">
     <meta property="og:image:height" content="630">
     <meta property="og:site_name" content="Morocco Travel Experts">
     <meta property="og:locale" content="en_US">
     <meta property="og:locale:alternate" content="fr_FR">
     <meta property="og:locale:alternate" content="ar_MA">

     <!-- Twitter Card Meta Tags -->
     <meta name="twitter:card" content="summary_large_image">
     <meta name="twitter:site" content="@moroccotravelexp">
     <meta name="twitter:creator" content="@moroccotravelexp">
     <meta name="twitter:title" content="<%= metaTitle %> | Authentic Morocco Experiences">
     <meta name="twitter:description" content="<%= metaDescription %>">
     <meta name="twitter:image" content="/images/logo.png">
     <meta name="twitter:image:alt" content="Morocco Travel Experiences">

     <!-- Article Specific Meta Tags -->
     <meta property="article:publisher" content="https://www.facebook.com/moroccotravelexperts">
     <meta property="article:modified_time" content="2023-12-01T12:00:00+00:00">

     <!-- Geo Meta Tags -->
     <meta name="geo.region" content="MA">
     <meta name="geo.placename" content="Marrakech">
     <meta name="geo.position" content="31.6294;-7.9810">
     <meta name="ICBM" content="31.6294, -7.9810">

     <!-- Mobile App Meta Tags -->
     <meta name="apple-mobile-web-app-capable" content="yes">
     <meta name="apple-mobile-web-app-status-bar-style" content="black">
     <meta name="apple-mobile-web-app-title" content="Morocco Travel">
     <meta name="format-detection" content="telephone=no">


     <!-- Favicon and App Icons -->
     <link rel="apple-touch-icon" sizes="180x180" href="/images/logo.png">
     <link rel="icon" type="image/png" sizes="32x32" href="/images/logo.png">
     <link rel="icon" type="image/png" sizes="16x16" href="/images/logo.png">
     <link rel="manifest" href="/site.webmanifest">
     <link rel="mask-icon" href="/images/logo.png" color="#2563eb">
     <meta name="msapplication-TileColor" content="#2563eb">
     <meta name="msapplication-config" content="/browserconfig.xml">

     <!-- Resource Hints -->
     <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
     <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
     <link rel="preconnect" href="https://translate.google.com" crossorigin>
     <link rel="dns-prefetch" href="https://www.google-analytics.com">
     <link rel="preload" href="/fonts/custom-font.woff2" as="font" type="font/woff2" crossorigin>
     <link rel="preload" href="https://raw.githubusercontent.com/mohamed-bella/mte-files/refs/heads/main/IMG-20250204-WA0004.webp" as="image">

     <!-- Tailwind CSS -->
     <script src="https://cdn.tailwindcss.com"></script>

     <!-- Alpine.js for interactive components -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.3/cdn.min.js" defer></script>

     <!-- Swiper.js for carousels -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/10.0.4/swiper-bundle.min.css">

     <!-- AOS for scroll animations -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">

     <!-- Custom Fonts with display swap and preload -->
     <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap">
     <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">

     <!-- Google Translate Element -->
     <script type="text/javascript">
          function googleTranslateElementInit() {
               new google.translate.TranslateElement({
                    pageLanguage: 'en',
                    includedLanguages: 'en,fr,es,it,ar,ja',
                    layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                    autoDisplay: false,
                    multilanguagePage: true,
                    gaTrack: false,
                    gaId: ''
               }, 'google_translate_element');

               // Remove Google Translate top bar and fix body position
               const removeTopBar = () => {
                    const frame = document.querySelector('.goog-te-banner-frame');
                    if (frame) frame.style.display = 'none';
                    document.body.style.top = '0px';
               };

               // Apply fixes after translation
               const observer = new MutationObserver(() => {
                    removeTopBar();
                    
                    // Add globe icon to the translate button
                    const menuValue = document.querySelector('.goog-te-menu-value');
                    if (menuValue && !menuValue.querySelector('.fa-globe')) {
                         const globeIcon = document.createElement('i');
                         globeIcon.className = 'fas fa-globe text-gray-600 mr-1';
                         menuValue.insertBefore(globeIcon, menuValue.firstChild);

                         // Add down arrow icon
                         const arrowIcon = document.createElement('i');
                         arrowIcon.className = 'fas fa-chevron-down text-gray-600 ml-1';
                         menuValue.appendChild(arrowIcon);
                    }

                    // Clean up any extra elements
                    const gadget = document.querySelector('.goog-te-gadget');
                    if (gadget) {
                         Array.from(gadget.childNodes).forEach(node => {
                              if (node.nodeType === 3) { // Text node
                                   node.textContent = '';
                              }
                         });
                    }
               });

               observer.observe(document.body, {
                    childList: true,
                    subtree: true
               });
          }
     </script>
     <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" async defer></script>

     <!-- Critical CSS -->
     <style>
          :root {
               --primary-color: #2563eb;
               --secondary-color: #0f172a;
               --accent-color: #22c55e;
          }
          body {
               font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
               text-rendering: optimizeLegibility;
               -webkit-font-smoothing: antialiased;
               -moz-osx-font-smoothing: grayscale;
          }
          .critical-hidden {
               display: none !important;
          }
          .critical-visible {
               display: block;
          }
          /* Add more critical CSS here */
     </style>

     <!-- Tailwind Config -->
     <script>
          tailwind.config = {
               theme: {
                    extend: {
                         colors: {
                              primary: '#2563eb',
                              secondary: '#0f172a',
                              accent: '#22c55e'
                         }
                    }
               }
          }
     </script>

     <!-- JSON-LD Schema Markup -->
     <script type="application/ld+json">
     {
          "@context": "https://schema.org",
          "@graph": [
               {
                    "@type": "TravelAgency",
                    "@id": "<%= process.env.BASE_URL %>#organization",
                    "name": "Morocco Travel Experts",
                    "url": "<%= process.env.BASE_URL %>",
                    "logo": {
                         "@type": "ImageObject",
                         "url": "/images/logo.png",
                         "width": "180",
                         "height": "60"
                    },
                    "image": "/images/logo.png",
                    "description": "<%= metaDescription %>",
                    "telephone": "+212123456789",
                    "email": "mohamedbella235@gmail.com",
                    "address": {
                         "@type": "PostalAddress",
                         "streetAddress": "123 Tourism Street",
                         "addressLocality": "Marrakech",
                         "addressRegion": "Marrakech-Safi",
                         "postalCode": "40000",
                         "addressCountry": "MA"
                    },
                    "geo": {
                         "@type": "GeoCoordinates",
                         "latitude": 31.6294,
                         "longitude": -7.9810
                    },
                    "openingHoursSpecification": {
                         "@type": "OpeningHoursSpecification",
                         "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                         "opens": "09:00",
                         "closes": "18:00"
                    },
                    "sameAs": [
                         "https://www.facebook.com/moroccotravelexperts",
                         "https://www.instagram.com/moroccotravel",
                         "https://twitter.com/moroccotravelexp"
                    ],
                    "priceRange": "$$"
               },
               {
                    "@type": "WebSite",
                    "@id": "<%= process.env.BASE_URL %>#website",
                    "url": "<%= process.env.BASE_URL %>",
                    "name": "Morocco Travel Experts",
                    "publisher": {"@id": "<%= process.env.BASE_URL %>#organization"},
                    "potentialAction": {
                         "@type": "SearchAction",
                         "target": "<%= process.env.BASE_URL %>/search?q={search_term_string}",
                         "query-input": "required name=search_term_string"
                    }
               }
          ]
     }
     </script>
</head>

<body class="bg-gray-50" itemscope itemtype="https://schema.org/WebPage">
     <!-- Header -->

     <!-- Scripts -->
     <!-- Swiper.js -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/10.0.4/swiper-bundle.min.js" defer></script>

     <!-- AOS -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js" defer></script>

     <!-- Initialize AOS -->
     <script>
          document.addEventListener('DOMContentLoaded', function() {
               AOS.init({
                    duration: 800,
                    offset: 100,
                    once: true,
                    disable: 'mobile'
               });
          });
     </script>

     <!-- Custom Scripts -->
     <script src="/js/main.js" defer></script>