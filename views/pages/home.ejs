<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<%- include('../partials/head', { 
    title: 'Morocco Travel Experts - Authentic Moroccan Tours & Desert Adventures', 
    metaDescription: 'Experience the magic of Morocco with tailor-made tours, desert adventures, and authentic cultural experiences led by local experts. Book your dream Moroccan journey today!',
    metaKeywords: 'morocco tours, morocco travel agency, sahara desert tours, morocco private tours, marrakech tours, morocco travel experts, authentic moroccan experiences'
}) %>

<%- include('../partials/header') %>

<main class="min-h-screen">
    <!-- Hero Section - Optimized for Conversions -->
    <section class="relative min-h-screen flex items-center overflow-hidden">
        <!-- Video Background with Fallback Image -->
        <div class="absolute inset-0">
            <div class="hidden md:block">
                <video autoplay muted loop playsinline class="w-full h-full object-cover">
                    <source src="https://res.cloudinary.com/df7el8fb4/video/upload/v1739847352/morocco-travel-experts/hero-video.mp4" type="video/mp4">
                    <!-- Fallback image if video doesn't load -->
                    <img src="https://raw.githubusercontent.com/mohamed-bella/mte-files/refs/heads/main/IMG-20250204-WA0004.webp" 
                        alt="Morocco Desert Landscape" 
                        class="w-full h-full object-cover" 
                        loading="eager">
                </video>
            </div>
            <img 
                src="https://raw.githubusercontent.com/mohamed-bella/mte-files/refs/heads/main/IMG-20250204-WA0004.webp" 
                alt="Morocco Desert Landscape" 
                class="md:hidden w-full h-full object-cover" 
                loading="eager">
            <div class="absolute inset-0 bg-gradient-to-t from-gray-900/90 via-gray-900/60 to-gray-900/70"></div>
        </div>

        <!-- Hero Content -->
        <div class="relative w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
            <div class="flex flex-col md:flex-row items-center">
                <!-- Left Content -->
                <div class="w-full md:w-1/2 text-center md:text-left mb-12 md:mb-0" data-aos="fade-right">
                    <h1 class="font-heading text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6">
                        <span class="block">Discover The Magic Of</span>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-orange-600">Morocco</span>
                    </h1>
                    
                    <p class="text-lg sm:text-xl text-gray-200 mb-8 max-w-xl mx-auto md:mx-0" data-aos="fade-up" data-aos-delay="100">
                        Immerse yourself in authentic Moroccan experiences with our expert local guides. From majestic desert adventures to vibrant city explorations.
                    </p>
                    
                    <!-- Trust Indicators -->
                    <div class="flex flex-wrap justify-center md:justify-start gap-4 mb-8" data-aos="fade-up" data-aos-delay="200">
                        <div class="flex items-center bg-white/10 backdrop-blur-sm rounded-full px-4 py-2">
                            <i class="fas fa-star text-yellow-400 mr-2"></i>
                            <span class="text-white text-sm">5-Star Rated</span>
                        </div>
                        <div class="flex items-center bg-white/10 backdrop-blur-sm rounded-full px-4 py-2">
                            <i class="fas fa-users text-orange-400 mr-2"></i>
                            <span class="text-white text-sm">Local Guides</span>
                        </div>
                        <div class="flex items-center bg-white/10 backdrop-blur-sm rounded-full px-4 py-2">
                            <i class="fas fa-shield-alt text-green-400 mr-2"></i>
                            <span class="text-white text-sm">Licensed Agency</span>
                        </div>
                    </div>
                    
                    <!-- CTA Buttons -->
                    <div class="flex flex-col sm:flex-row gap-4 mt-8" data-aos="fade-up" data-aos-delay="300">
                        <a href="/tours" class="w-full sm:w-auto inline-flex items-center justify-center px-8 py-4 text-base font-bold text-white bg-orange-600 rounded-full shadow-lg hover:bg-orange-700 transform hover:-translate-y-1 transition-all duration-300">
                            Explore Tours
                            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                        </a>
                        <a href="#popular-tours" class="w-full sm:w-auto inline-flex items-center justify-center px-8 py-4 text-base font-medium text-white border-2 border-white/30 rounded-full hover:bg-white/10 transform hover:-translate-y-1 transition-all duration-300">
                            <i class="fas fa-play-circle mr-2"></i>
                            Popular Destinations
                        </a>
                    </div>
                </div>
                
                <!-- Right Content: Quick Booking Form -->
                <div class="w-full md:w-5/12 md:ml-auto" data-aos="fade-left">
                    <div class="bg-white/10 backdrop-blur-md p-6 rounded-2xl shadow-2xl border border-white/20">
                        <h3 class="text-xl font-bold text-white mb-4">Start Planning Your Morocco Adventure</h3>
                        
                        <!-- Error Message (Hidden by default) -->
                        <div id="bookingFormError" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4">
                            <strong class="font-bold">Error!</strong>
                            <span class="block sm:inline">Something went wrong. Please try again.</span>
                        </div>
                        
                        <form id="heroBookingForm" class="space-y-4">
                            <div>
                                <label class="block text-white text-sm mb-1">Your Name</label>
                                <input type="text" name="name" id="booking-name" required class="w-full px-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-orange-500">
                                <span class="text-orange-300 text-xs hidden error-message" id="name-error">Please enter your name</span>
                            </div>
                            <div>
                                <label class="block text-white text-sm mb-1">Email Address</label>
                                <input type="email" name="email" id="booking-email" required class="w-full px-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-orange-500">
                                <span class="text-orange-300 text-xs hidden error-message" id="email-error">Please enter a valid email</span>
                            </div>
                            <div>
                                <label class="block text-white text-sm mb-1">Interested In</label>
                                <select name="tour_type" id="booking-tour-type" class="w-full px-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500">
                                    <option value="desert_tours">Desert Tours</option>
                                    <option value="city_tours">City Tours</option>
                                    <option value="cultural_experiences">Cultural Experiences</option>
                                    <option value="custom_tour">Custom Tour</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-white text-sm mb-1">Travel Date</label>
                                <input type="date" name="travel_date" id="booking-travel-date" class="w-full px-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500">
                                <span class="text-orange-300 text-xs hidden error-message" id="date-error">Please select a date</span>
                            </div>
                            <button type="submit" id="booking-submit-btn" class="w-full py-4 px-6 bg-orange-600 hover:bg-orange-700 text-white font-bold rounded-lg transition-colors duration-300 transform hover:-translate-y-1 flex items-center justify-center">
                                <span>Get Personalized Tour</span>
                                <svg id="booking-spinner" class="hidden animate-spin ml-2 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="absolute bottom-8 left-0 right-0 flex justify-center animate-bounce">
            <a href="#why-choose-us" class="text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                </svg>
            </a>
        </div>
    </section>
    
    <!-- Why Choose Us Section -->
    <section id="why-choose-us" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="inline-block px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium mb-4">Why Choose Us</span>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">Your Trusted Morocco Travel Partner</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Founded by passionate locals, we create authentic Moroccan experiences with personalized service, expert guides, and unforgettable moments.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Feature 1 -->
                <div class="bg-gray-50 p-8 rounded-2xl hover:shadow-lg transition-all duration-300" data-aos="fade-up">
                    <div class="w-14 h-14 bg-orange-100 rounded-full flex items-center justify-center mb-6">
                        <i class="fas fa-map-marked-alt text-2xl text-orange-600"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4">Local Expertise</h3>
                    <p class="text-gray-600">
                        Our guides are born and raised in Morocco with deep knowledge of the culture, history, and hidden gems you won't find in guidebooks.
                    </p>
                </div>
                
                <!-- Feature 2 -->
                <div class="bg-gray-50 p-8 rounded-2xl hover:shadow-lg transition-all duration-300" data-aos="fade-up" data-aos-delay="100">
                    <div class="w-14 h-14 bg-orange-100 rounded-full flex items-center justify-center mb-6">
                        <i class="fas fa-user-shield text-2xl text-orange-600"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4">Personalized Service</h3>
                    <p class="text-gray-600">
                        We customize every tour to match your interests, preferences, and pace, creating a journey that's uniquely yours.
                    </p>
                </div>
                
                <!-- Feature 3 -->
                <div class="bg-gray-50 p-8 rounded-2xl hover:shadow-lg transition-all duration-300" data-aos="fade-up" data-aos-delay="200">
                    <div class="w-14 h-14 bg-orange-100 rounded-full flex items-center justify-center mb-6">
                        <i class="fas fa-heart text-2xl text-orange-600"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4">Authentic Experiences</h3>
                    <p class="text-gray-600">
                        Connect with local communities, taste traditional cuisine, and immerse yourself in genuine Moroccan culture.
                    </p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Popular Tours Section -->
    <section id="popular-tours" class="py-20 bg-orange-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="inline-block px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium mb-4">Popular Tours</span>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">Discover Morocco's Magic</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Explore our most popular tours, each crafted to showcase the best of Morocco's diverse landscapes, rich culture, and warm hospitality.
                </p>
            </div>
            
            <!-- Desktop Tours Grid -->
            <div class="hidden md:grid grid-cols-1 md:grid-cols-3 gap-8">
                <% tours.forEach((tour, index) => { %>
                    <div class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2" data-aos="fade-up" data-aos-delay="<%= index * 100 %>">
                        <div class="relative">
                            <img 
                                src="<%= tour.mainImage %>" 
                                alt="<%= tour.title %> - Morocco Tour" 
                                class="w-full h-64 object-cover transition-transform duration-700 hover:scale-105"
                                loading="lazy"
                            >
                            <div class="absolute top-4 right-4 flex gap-2">
                                <span class="px-3 py-1 bg-white rounded-full text-sm font-semibold text-gray-900 shadow-md flex items-center">
                                    <i class="far fa-clock text-orange-500 mr-1"></i>
                                    <%= tour.duration %> Days
                                </span>
                            </div>
                            <% if (tour.featured) { %>
                                <div class="absolute top-4 left-4">
                                    <span class="px-3 py-1 bg-orange-500 text-white rounded-full text-sm font-semibold shadow-md">
                                        Featured
                                    </span>
                                </div>
                            <% } %>
                        </div>
                        
                        <div class="p-6">
                            <div class="flex items-center mb-3 text-gray-500">
                                <i class="fas fa-map-marker-alt text-orange-500 mr-2"></i>
                                <span class="text-sm"><%= tour.startLocation %></span>
                            </div>
                            
                            <h3 class="text-xl font-bold text-gray-900 mb-3 hover:text-orange-600 transition-colors">
                                <%= tour.title %>
                            </h3>
                            
                            <p class="text-gray-600 mb-5 line-clamp-3 text-sm leading-relaxed">
                                <%= tour.description.substring(0, 150) %>...
                            </p>
                            
                            <div class="flex flex-wrap gap-2 mb-6">
                                <span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-xs">
                                    Desert Adventure
                                </span>
                                <span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-xs">
                                    Cultural
                                </span>
                                <span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-xs">
                                    Guided Tour
                                </span>
                            </div>
                            
                            <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                                <div class="flex flex-col">
                                    <span class="text-xs text-gray-500">Starting from</span>
                                    <span class="text-lg font-bold text-orange-600">Contact for price</span>
                                </div>
                                <a href="/tours/<%= tour.slug %>" class="inline-flex items-center px-4 py-2 bg-orange-600 text-white rounded-full text-sm font-medium transition-colors hover:bg-orange-700">
                                    View Details
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>
            
            <!-- Mobile Tours Carousel -->
            <div class="md:hidden">
                <div class="swiper-container tourmobile-swiper overflow-visible">
                    <div class="swiper-wrapper pb-8">
                        <% tours.forEach(tour => { %>
                            <div class="swiper-slide px-1">
                                <div class="bg-white rounded-xl shadow-lg overflow-hidden h-full">
                                    <div class="relative">
                                        <img 
                                            src="<%= tour.mainImage %>" 
                                            alt="<%= tour.title %> - Morocco Tour" 
                                            class="w-full h-48 object-cover"
                                            loading="lazy"
                                        >
                                        <div class="absolute top-3 right-3">
                                            <span class="px-2 py-1 bg-white/90 rounded-full text-xs font-semibold text-gray-900 shadow-sm">
                                                <i class="far fa-clock text-orange-500 mr-1"></i>
                                                <%= tour.duration %> Days
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4">
                                        <div class="flex items-center mb-2 text-gray-500">
                                            <i class="fas fa-map-marker-alt text-orange-500 mr-1.5"></i>
                                            <span class="text-xs"><%= tour.startLocation %></span>
                                        </div>
                                        
                                        <h3 class="text-base font-bold text-gray-900 mb-2"><%= tour.title %></h3>
                                        
                                        <p class="text-xs text-gray-600 mb-4 line-clamp-2">
                                            <%= tour.description.substring(0, 90) %>...
                                        </p>
                                        
                                        <a href="/tours/<%= tour.slug %>" class="inline-flex w-full items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-full text-sm font-medium transition-colors hover:bg-orange-700">
                                            View Details
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        <% }); %>
                    </div>
                    <div class="swiper-pagination"></div>
                </div>
            </div>
            
            <div class="text-center mt-12">
                <a href="/tours" class="inline-flex items-center justify-center px-8 py-4 text-base font-medium text-white bg-orange-600 rounded-full shadow-lg hover:bg-orange-700 transform hover:-translate-y-1 transition-all duration-300">
                    View All Tours
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                    </svg>
                </a>
            </div>
        </div>
    </section>
    
    <!-- Starting Cities Section -->
    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="inline-block px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium mb-4">Starting Points</span>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">Begin Your Moroccan Journey</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Choose your ideal starting location and let us craft the perfect Moroccan adventure tailored to your preferences.
                </p>
            </div>

            <!-- Desktop Grid -->
            <div class="hidden md:grid grid-cols-2 lg:grid-cols-3 gap-8">
                <% startingCities.slice(0, 6).forEach((city, index) => { %>
                    <a href="/tours?city=<%= city.city %>" class="group relative overflow-hidden rounded-2xl shadow-lg" data-aos="fade-up" data-aos-delay="<%= index * 100 %>">
                        <div class="aspect-w-16 aspect-h-10">
                            <img 
                                src="<%= city.image %>" 
                                alt="<%= city.city %> Tours - Starting Point in Morocco" 
                                class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700 ease-in-out"
                                loading="lazy"
                            >
                        </div>
                        <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent group-hover:from-black/95 transition-colors duration-300"></div>
                        <div class="absolute bottom-0 left-0 p-6">
                            <div class="flex items-center mb-2">
                                <div class="w-8 h-8 rounded-full bg-orange-500/30 backdrop-blur-sm flex items-center justify-center">
                                    <i class="fas fa-map-marker-alt text-orange-500"></i>
                                </div>
                                <span class="ml-2 text-orange-300 text-sm">Starting Point</span>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-3 group-hover:text-orange-300 transition-colors">From <%= city.city %></h3>
                            <p class="text-gray-300 text-sm mb-4 line-clamp-2"><%= city.description %></p>
                            <div class="flex items-center text-orange-300 text-sm font-medium">
                                Explore Tours
                                <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                                </svg>
                            </div>
                        </div>
                    </a>
                <% }); %>
            </div>

            <!-- Mobile Slider -->
            <div class="md:hidden">
                <div class="swiper-container cities-swiper overflow-visible">
                    <div class="swiper-wrapper pb-8">
                        <% startingCities.slice(0, 6).forEach(city => { %>
                            <div class="swiper-slide px-1">
                                <a href="/tours?city=<%= city.city %>" class="block relative rounded-xl overflow-hidden shadow-lg h-64">
                                    <img 
                                        src="<%= city.image %>" 
                                        alt="<%= city.city %> Tours - Starting Point" 
                                        class="w-full h-full object-cover"
                                        loading="lazy"
                                    >
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                                    <div class="absolute bottom-0 left-0 p-4">
                                        <h3 class="text-lg font-bold text-white mb-1">From <%= city.city %></h3>
                                        <p class="text-gray-300 text-xs mb-3 line-clamp-2"><%= city.description %></p>
                                        <span class="inline-flex items-center text-orange-300 text-xs font-medium">
                                            Explore Tours
                                            <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                                            </svg>
                                        </span>
                                    </div>
                                </a>
                            </div>
                        <% }); %>
                    </div>
                    <div class="swiper-pagination"></div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Testimonials Section -->
    <section class="py-20 bg-orange-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="inline-block px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium mb-4">Testimonials</span>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">What Our Travelers Say</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Hear directly from our guests about their experiences exploring Morocco with our expert guides.
                </p>
            </div>
            
            <!-- Testimonial Carousel -->
            <div class="swiper-container testimonial-swiper overflow-hidden pb-12" data-aos="fade-up">
                <div class="swiper-wrapper">
                    <!-- Testimonial 1 -->
                    <div class="swiper-slide">
                        <div class="bg-white p-8 rounded-2xl shadow-lg h-full flex flex-col">
                            <div class="flex-1">
                                <div class="flex text-orange-400 mb-4">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <p class="text-gray-600 mb-6 italic">
                                    "We had the most amazing experience with Morocco Travel Experts. Our guide Hamid was extremely knowledgeable, patient, and went above and beyond to make our trip special. From the busy streets of Marrakech to the peaceful Sahara desert, every moment was perfect."
                                </p>
                            </div>
                            <div class="flex items-center">
                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Martin" alt="Martin E. Coleman" class="w-12 h-12 rounded-full">
                                <div class="ml-4">
                                    <h4 class="font-bold text-gray-900">Martin E. Coleman</h4>
                                    <div class="flex items-center text-sm text-gray-500">
                                        <img src="https://www.google.com/favicon.ico" alt="Google" class="w-4 h-4 mr-1">
                                        <span>Google Reviews</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 2 -->
                    <div class="swiper-slide">
                        <div class="bg-white p-8 rounded-2xl shadow-lg h-full flex flex-col">
                            <div class="flex-1">
                                <div class="flex text-orange-400 mb-4">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <p class="text-gray-600 mb-6 italic">
                                    "This was truly the trip of a lifetime! The level of service was exceptional from beginning to end. Our guide had incredible knowledge of the history and culture, plus found us authentic restaurants we never would have discovered on our own. Highly recommended!"
                                </p>
                            </div>
                            <div class="flex items-center">
                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Harold" alt="Harold Schroeder" class="w-12 h-12 rounded-full">
                                <div class="ml-4">
                                    <h4 class="font-bold text-gray-900">Harold Schroeder</h4>
                                    <div class="flex items-center text-sm text-gray-500">
                                        <img src="https://static.tacdn.com/img2/brand_refresh/Tripadvisor_logomark.svg" alt="TripAdvisor" class="w-4 h-4 mr-1">
                                        <span>TripAdvisor</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 3 -->
                    <div class="swiper-slide">
                        <div class="bg-white p-8 rounded-2xl shadow-lg h-full flex flex-col">
                            <div class="flex-1">
                                <div class="flex text-orange-400 mb-4">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <p class="text-gray-600 mb-6 italic">
                                    "Hamid is an outstanding guide who made our Morocco trip unforgettable. The night in the desert camp was magical, watching the sunset over the dunes and stargazing at night. Every detail was perfectly arranged, and we felt safe and well-cared for throughout the journey."
                                </p>
                            </div>
                            <div class="flex items-center">
                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Iwona" alt="Iwona Wiśniewska" class="w-12 h-12 rounded-full">
                                <div class="ml-4">
                                    <h4 class="font-bold text-gray-900">Iwona Wiśniewska</h4>
                                    <div class="flex items-center text-sm text-gray-500">
                                        <img src="https://www.google.com/favicon.ico" alt="Google" class="w-4 h-4 mr-1">
                                        <span>Google Reviews</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
            
            <div class="text-center mt-8">
                <a href="/reviews" class="inline-flex items-center text-orange-600 hover:text-orange-700">
                    <span>Read more reviews</span>
                    <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                    </svg>
                </a>
            </div>
        </div>
    </section>
    
    <!-- Experience Showcases -->
    <section class="py-20 bg-white overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-center mb-20">
                <!-- Image Side -->
                <div class="w-full md:w-1/2 mb-10 md:mb-0 md:pr-12" data-aos="fade-right">
                    <div class="relative">
                        <img 
                            src="https://raw.githubusercontent.com/mohamed-bella/mte-files/refs/heads/main/IMG-20250204-WA0006.webp" 
                            alt="Sahara Desert Adventure" 
                            class="rounded-2xl shadow-xl w-full h-auto"
                            loading="lazy"
                        >
                        <div class="absolute -bottom-6 -right-6 bg-white rounded-xl shadow-lg p-4 max-w-xs">
                            <div class="flex items-center">
                                <div class="flex text-orange-400 mr-3">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span class="text-gray-700 font-medium">5.0/5 Based on 128 reviews</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Content Side -->
                <div class="w-full md:w-1/2" data-aos="fade-left">
                    <span class="inline-block px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium mb-4">Signature Experience</span>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">Sahara Desert Adventure</h2>
                    <p class="text-lg text-gray-600 mb-6">
                        Experience the magic of the Sahara Desert with our expert guides. Ride camels across golden dunes, spend a night under the stars in a traditional Berber camp, and witness breathtaking sunrises and sunsets.
                    </p>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span class="text-gray-600">Camel trekking across majestic sand dunes</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span class="text-gray-600">Overnight stay in luxury desert camp</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span class="text-gray-600">Traditional music around the campfire</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span class="text-gray-600">Stargazing in one of the clearest skies in the world</span>
                        </li>
                    </ul>
                    <a href="/tours?category=desert" class="inline-flex items-center justify-center px-6 py-3 text-base font-medium text-white bg-orange-600 rounded-full shadow-lg hover:bg-orange-700 transform hover:-translate-y-1 transition-all duration-300">
                        Explore Desert Tours
                        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                        </svg>
                    </a>
                </div>
            </div>
            
            <div class="flex flex-col-reverse md:flex-row items-center">
                <!-- Content Side -->
                <div class="w-full md:w-1/2 mt-10 md:mt-0 md:pr-12" data-aos="fade-right">
                    <span class="inline-block px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium mb-4">Cultural Immersion</span>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">Authentic Moroccan Experiences</h2>
                    <p class="text-lg text-gray-600 mb-6">
                        Go beyond the typical tourist attractions and immerse yourself in authentic Moroccan culture. Connect with local communities, learn traditional crafts, and discover the real Morocco with our local guides.
                    </p>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span class="text-gray-600">Home-cooked meals with local families</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span class="text-gray-600">Traditional crafts workshops with local artisans</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span class="text-gray-600">Visit to authentic Berber villages</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span class="text-gray-600">Local music and dance performances</span>
                        </li>
                    </ul>
                    <a href="/tours?category=cultural" class="inline-flex items-center justify-center px-6 py-3 text-base font-medium text-white bg-orange-600 rounded-full shadow-lg hover:bg-orange-700 transform hover:-translate-y-1 transition-all duration-300">
                        Explore Cultural Tours
                        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                        </svg>
                    </a>
                </div>
                
                <!-- Image Side -->
                <div class="w-full md:w-1/2" data-aos="fade-left">
                    <div class="relative">
                        <img 
                            src="https://raw.githubusercontent.com/mohamed-bella/mte-files/refs/heads/main/IMG-20250204-WA0007.webp" 
                            alt="Cultural Moroccan Experience" 
                            class="rounded-2xl shadow-xl w-full h-auto"
                            loading="lazy"
                        >
                        <div class="absolute -bottom-6 -left-6 bg-white rounded-xl shadow-lg p-4">
                            <div class="flex items-center">
                                <img src="https://api.dicebear.com/7.x/initials/svg?seed=JD&backgroundColor=ffb144" alt="Happy Traveler" class="w-10 h-10 rounded-full mr-3">
                                <div>
                                    <p class="text-gray-700 font-medium">"The highlight of our Morocco trip!"</p>
                                    <p class="text-gray-500 text-sm">Jaden D.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Blog Section -->
    <% if (recentBlogs && recentBlogs.length > 0) { %>
    <section class="py-20 bg-orange-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="inline-block px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium mb-4">Morocco Travel Guide</span>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">Latest From Our Blog</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Discover travel tips, destination guides, and local insights to help you plan your perfect Moroccan adventure.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <% recentBlogs.forEach((blog, index) => { %>
                    <article class="bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col" data-aos="fade-up" data-aos-delay="<%= index * 100 %>">
                        <a href="/blog/<%= blog.slug %>" class="block overflow-hidden">
                            <img 
                                src="<%= blog.featuredImage %>" 
                                alt="<%= blog.title %> - Morocco Travel Guide" 
                                class="w-full h-52 object-cover transform hover:scale-105 transition-all duration-500"
                                loading="lazy"
                            >
                        </a>
                        <div class="p-6 flex flex-col flex-grow">
                            <div class="flex items-center text-sm text-gray-500 mb-3">
                                <time datetime="<%= blog.publishedAt.toISOString() %>" class="flex items-center">
                                    <i class="far fa-calendar-alt mr-1"></i>
                                    <%= new Date(blog.publishedAt).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' }) %>
                                </time>
                                <span class="mx-2">•</span>
                                <span class="flex items-center">
                                    <i class="far fa-clock mr-1"></i>
                                    <%= blog.readTime %> min read
                                </span>
                            </div>
                            
                            <h3 class="text-xl font-bold text-gray-900 mb-3 line-clamp-2 hover:text-orange-600 transition-colors">
                                <a href="/blog/<%= blog.slug %>"><%= blog.title %></a>
                            </h3>
                            
                            <p class="text-gray-600 mb-4 line-clamp-3 flex-grow">
                                <%= blog.summary %>
                            </p>
                            
                            <div class="mt-auto">
                                <a href="/blog/<%= blog.slug %>" class="inline-flex items-center text-sm font-medium text-orange-600 hover:text-orange-700">
                                    Read Article
                                    <svg class="ml-1 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </article>
                <% }); %>
            </div>

            <div class="text-center mt-12">
                <a href="/blog" class="inline-flex items-center justify-center px-6 py-3 border border-gray-300 shadow-sm text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors">
                    View All Articles
                    <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                    </svg>
                </a>
            </div>
        </div>
    </section>
    <% } %>
    
    <!-- CTA Section -->
    <section class="py-20 bg-gradient-to-br from-orange-600 to-orange-700 relative">
        <div class="absolute inset-0 opacity-10">
            <svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none">
                <defs>
                    <pattern id="pattern" width="5" height="5" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">
                        <line x1="0" y="0" x2="0" y2="5" stroke="currentColor" stroke-width="1" />
                    </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#pattern)" />
            </svg>
        </div>
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative">
            <div class="text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">Ready to Experience Morocco?</h2>
                <p class="text-xl text-white/90 mb-10 max-w-3xl mx-auto">
                    Let us help you create the perfect Moroccan adventure tailored to your interests, budget, and schedule.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="/contact" class="inline-flex items-center justify-center px-8 py-4 text-base font-bold bg-white text-orange-600 rounded-full shadow-lg hover:bg-gray-100 transform hover:-translate-y-1 transition-all duration-300">
                        <i class="fas fa-paper-plane mr-2"></i>
                        Contact Us Now
                    </a>
                    <a href="/tours" class="inline-flex items-center justify-center px-8 py-4 text-base font-medium border-2 border-white text-white rounded-full hover:bg-white/10 transform hover:-translate-y-1 transition-all duration-300">
                        <i class="fas fa-compass mr-2"></i>
                        Browse Tours
                    </a>
                </div>
            </div>
        </div>
    </section>
</main>

<%- include('../partials/footer') %>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize AOS animations
        AOS.init({
            duration: 800,
            once: true,
            offset: 100
        });
        
        // Initialize tour mobile swiper
        new Swiper('.tourmobile-swiper', {
            slidesPerView: 1.2,
            spaceBetween: 16,
            centeredSlides: true,
            loop: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            autoplay: {
                delay: 3500,
                disableOnInteraction: false,
            },
        });
        
        // Initialize cities swiper
        new Swiper('.cities-swiper', {
            slidesPerView: 1.2,
            spaceBetween: 16,
            centeredSlides: true,
            loop: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            autoplay: {
                delay: 4000,
                disableOnInteraction: false,
            },
        });
        
        // Initialize testimonials swiper
        new Swiper('.testimonial-swiper', {
            slidesPerView: 1,
            spaceBetween: 30,
            grabCursor: true,
            loop: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            autoplay: {
                delay: 5000,
                disableOnInteraction: false,
            },
            breakpoints: {
                640: {
                    slidesPerView: 1,
                },
                768: {
                    slidesPerView: 2,
                },
                1024: {
                    slidesPerView: 3,
                },
            },
        });
        
        // Hero Booking Form Handling
        const heroForm = document.getElementById('heroBookingForm');
        
        if (heroForm) {
            heroForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Clear previous errors
                document.querySelectorAll('.error-message').forEach(el => el.classList.add('hidden'));
                
                // Simple validation
                let isValid = true;
                
                const name = document.getElementById('booking-name');
                const email = document.getElementById('booking-email');
                const travelDate = document.getElementById('booking-travel-date');
                const tourType = document.getElementById('booking-tour-type');
                
                if (!name.value.trim()) {
                    document.getElementById('name-error').classList.remove('hidden');
                    isValid = false;
                }
                
                if (!email.value.trim() || !email.value.includes('@')) {
                    document.getElementById('email-error').classList.remove('hidden');
                    isValid = false;
                }
                
                if (!travelDate.value) {
                    document.getElementById('date-error').classList.remove('hidden');
                    isValid = false;
                }
                
                if (!isValid) return;
                
                // Show loading state
                const submitBtn = document.getElementById('booking-submit-btn');
                const spinner = document.getElementById('booking-spinner');
                submitBtn.disabled = true;
                spinner.classList.remove('hidden');
                
                // Create the temporary booking in localStorage to pass to the customizer page
                const bookingData = {
                    name: name.value,
                    email: email.value,
                    tour_type: tourType.value,
                    travel_date: travelDate.value,
                    source: 'homepage_hero'
                };
                
                localStorage.setItem('pendingBooking', JSON.stringify(bookingData));
                
                // Track initial form step if Google Analytics is present
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'start_booking', {
                        'event_category': 'conversion',
                        'event_label': 'homepage_hero_form'
                    });
                }
                
                // Redirect to the customizer page based on tour type
                setTimeout(() => {
                    window.location.href = `/tour-customizer?type=${tourType.value}`;
                }, 500);
            });
        }
    });
</script>

<!-- Add this to the head section for line-clamp support -->
<style>
    @layer utilities {
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .line-clamp-4 {
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    }
    
    /* Hide scrollbar for Chrome, Safari and Opera */
    .hide-scrollbar::-webkit-scrollbar {
        display: none;
    }
    
    /* Hide scrollbar for IE, Edge and Firefox */
    .hide-scrollbar {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
    
    /* Add aspect ratio utilities */
    .aspect-w-16 {
        position: relative;
        padding-bottom: calc(var(--tw-aspect-h) / var(--tw-aspect-w) * 100%);
        --tw-aspect-w: 16;
    }
    
    .aspect-h-10 {
        --tw-aspect-h: 10;
    }
    
    .aspect-w-16 > * {
        position: absolute;
        height: 100%;
        width: 100%;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
    }
</style>

<!-- Rich Snippets for SEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TravelAgency",
  "name": "Morocco Travel Experts",
  "image": "<%= settings?.logo?.url || '/images/logo.png' %>",
  "url": "https://www.moroccotravelexperts.com",
  "telephone": "<%= settings?.phone || '+212612210183' %>",
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "Marrakech",
    "addressRegion": "Marrakech-Safi",
    "addressCountry": "MA"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "<%= settings?.coordinates?.lat || '31.6295' %>",
    "longitude": "<%= settings?.coordinates?.lng || '-7.9811' %>"
  },
  "openingHoursSpecification": {
    "@type": "OpeningHoursSpecification",
    "dayOfWeek": [
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday",
      "Sunday"
    ],
    "opens": "08:00",
    "closes": "20:00"
  },
  "priceRange": "$$-$$$",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "reviewCount": "128"
  },
  "description": "Expert-guided tours across Morocco featuring desert adventures, cultural experiences, and personalized itineraries. Local Moroccan guides providing authentic experiences."
}
</script>

</body>
</html>
